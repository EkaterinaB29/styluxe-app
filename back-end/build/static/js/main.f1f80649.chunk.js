(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,s){},function(e,t,s){},,,,,,,,,,,,function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},,function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){"use strict";s.r(t);var a=s(1),c=s.n(a),n=s(18),r=s.n(n),i=s(6),o=s(4),l=s(49),d=s(0);const j=Object(a.createContext)(),h=e=>{let{children:t}=e;const[s,c]=Object(a.useState)(null),[n,r]=Object(a.useState)(null),[i,o]=Object(a.useState)(!1),[h,b]=Object(a.useState)(!0),[p,m]=Object(a.useState)(localStorage.getItem("token")||null);return Object(a.useEffect)((()=>{if(p){(async()=>{b(!0);const e={headers:{Authorization:`Bearer ${p}`},withCredentials:!0};try{const t=await l.a.get("http://88.200.63.148:8211/api/user/profile/professional",e);c(t.data),r("Professional"),o(!0)}catch(t){console.log("Error fetching professional profile:",t);try{const t=await l.a.get("http://88.200.63.148:8211/api/user/profile/client",e);c(t.data),r("Client"),o(!0)}catch(s){console.error("Error fetching client profile:",s.response?s.response.data:s.message),o(!1)}}finally{b(!1)}})()}else console.error("No token found."),b(!1),o(!1)}),[p]),Object(d.jsx)(j.Provider,{value:{user:s,role:n,isAuthenticated:i,setUser:c,setRole:r,setIsAuthenticated:o,loading:h,setLoading:b,setToken:m},children:t})};s(29);var b=s.p+"static/media/search.582e6fda.svg";s(30);var p=e=>{let{text:t,type:s="default"}=e;return Object(d.jsx)("div",{className:`button ${s}`,children:Object(d.jsx)("div",{className:"text",children:t})})};s(31);var m=e=>{let{text:t}=e;return Object(d.jsxs)("div",{className:"notification-container",children:[Object(d.jsx)("div",{className:"notification-text",children:t}),Object(d.jsx)("div",{className:"notification-prompts",children:Object(d.jsx)("p",{className:"notification-prompt",children:"Don't have an account?      Already a member?"})}),Object(d.jsxs)("div",{className:"notification-buttons",children:[Object(d.jsx)(i.b,{to:"/register",children:Object(d.jsx)(p,{text:"Join the community",type:"primary"})}),Object(d.jsx)(i.b,{to:"/login",children:Object(d.jsx)(p,{text:"Log In",type:"default"})})]})]})};var u=()=>{const[e,t]=Object(a.useState)(""),[s,c]=Object(a.useState)("user"),[n,r]=Object(a.useState)([]),[h,p]=Object(a.useState)(!1),{user:u,isAuthenticated:O,setIsAuthenticated:x,setUser:g,setRole:f,setToken:v}=Object(a.useContext)(j),y=Object(o.o)();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("nav",{className:"navbar",children:[Object(d.jsx)("div",{className:"navbar-brand",children:Object(d.jsx)(i.b,{to:"/",children:"Styluxe App"})}),Object(d.jsxs)("div",{className:"navbar-links",children:[Object(d.jsx)(i.b,{to:"/",children:"Home"}),Object(d.jsx)(i.b,{to:"/posts",children:"Blog"}),Object(d.jsx)(i.b,{to:"/services",children:"Services"}),Object(d.jsx)(i.b,{to:"/professionals",children:"Map"}),O&&Object(d.jsx)(i.b,{to:"Professional"===u.role?"/profile/professional":"/profile/client",children:"My Profile"}),O&&Object(d.jsx)(i.b,{to:"/posts/create-post",children:"Create Post"}),!O&&Object(d.jsx)(i.b,{to:"/login",children:"Login"}),!O&&Object(d.jsx)(i.b,{to:"/register",children:"Register"})]}),Object(d.jsxs)("div",{className:"user-actions",children:[O&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("span",{className:"user-greeting",children:["Hi, ",u.first_name]}),Object(d.jsx)("button",{className:"logout-button",onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("logged_in_user_id"),sessionStorage.removeItem("token"),x(!1),g(null),f(null),v(null),y("/login")},children:"Logout"})]}),Object(d.jsxs)("div",{className:"search-container",children:[Object(d.jsxs)("div",{className:"search-bar",children:[Object(d.jsxs)("select",{value:s,onChange:e=>c(e.target.value),className:"search-select",children:[Object(d.jsx)("option",{value:"user",children:"Users"}),Object(d.jsx)("option",{value:"posts",children:"Posts"})]}),Object(d.jsx)("input",{type:"text",placeholder:"Search anything...",value:e,onChange:e=>t(e.target.value),className:"search-input"}),Object(d.jsx)("button",{type:"submit",className:"search-button",onClick:async t=>{if(t.preventDefault(),""!==e.trim())try{const t=await l.a.get(`http://88.200.63.148:8211/api/${s}/search?query=${e}`,{withCredentials:!0});r(t.data)}catch(a){console.error("Error searching:",a)}},children:Object(d.jsx)("img",{src:b,alt:"Search"})})]}),n.length>0&&Object(d.jsx)("div",{className:"search-results",children:n.map(((e,a)=>Object(d.jsx)("div",{onClick:()=>(e=>{"user"===s?y(`/profile/${e.user_id}`):"posts"===s&&y(`/posts/${e.post_id}`),t(""),r([])})(e),children:"user"===s?`${e.first_name} ${e.last_name} (${e.location})`:e.title||e.content},`${e.user_id||e.post_id}-${a}`)))})]})]})]}),h&&Object(d.jsx)(m,{children:"Please log in to use this feature."})]})};s(32);var O=()=>Object(d.jsx)("footer",{className:"footer",children:Object(d.jsx)("div",{className:"footer-content",children:Object(d.jsx)("p",{children:"\xa9 2024 Styluxe. All rights reserved."})})});s(33);var x=()=>Object(d.jsxs)("div",{className:"homepage-container",children:[Object(d.jsx)(u,{}),Object(d.jsx)("div",{className:"main-section",children:Object(d.jsxs)("div",{className:"main-text",children:[Object(d.jsx)("h1",{children:"Let Your Home Be Unique"}),Object(d.jsxs)("div",{children:["We love design. That's how we got here. ",Object(d.jsx)("span",{role:"img","aria-label":"decor-icons",children:"\ud83d\udc92\ud83c\udf37\u2728"})]}),Object(d.jsxs)("div",{className:"button-container",children:[Object(d.jsx)(i.b,{to:"/register",children:Object(d.jsx)(p,{text:"Join the community",type:"primary"})}),Object(d.jsx)(i.b,{to:"/login",children:Object(d.jsx)(p,{text:"Log In",type:"default"})})]})]})}),Object(d.jsx)(O,{})]});var g=l.a.create({baseURL:"http://88.200.63.148:8211/api",withCredentials:!0}),f=s.p+"static/media/bedroom.a3cb442f.png",v=(s(34),s.p+"static/media/heart.3c790abe.svg");var y=e=>{let{post:t}=e;const{postId:s}=Object(o.q)(),[c,n]=Object(a.useState)(t?t.likes:0),[r,i]=Object(a.useState)(!1),[l,j]=Object(a.useState)(!1),[h,b]=Object(a.useState)(!1),[p,m]=Object(a.useState)(!1),[u,O]=Object(a.useState)(t?t.content:"");Object(a.useEffect)((()=>{const e=localStorage.getItem("logged_in_user_id");t&&parseInt(t.user_id,10)===parseInt(e,10)?b(!0):b(!1);const s=localStorage.getItem("token");console.log("Token retrieved from cookies:",s)}),[t]);return t?Object(d.jsxs)("div",{className:"single-post-content",children:[Object(d.jsx)("h1",{children:t.title}),Object(d.jsx)("img",{src:`http://88.200.63.148:8211${t.image_url}`,alt:t.title,className:"post-image"}),p?Object(d.jsxs)("div",{children:[Object(d.jsx)("textarea",{value:u,onChange:e=>O(e.target.value),rows:"5",cols:"60"}),Object(d.jsx)("button",{onClick:async()=>{try{const e=localStorage.getItem("token");200===(await g.put(`http://88.200.63.148:8211/api/posts/${s}`,{content:u},{headers:{Authorization:`Bearer ${e}`}})).status?(alert("Post updated successfully."),m(!1),t.content=u):console.error("Failed to update the post")}catch(e){console.error("Error:",e)}},children:"Save"})]}):Object(d.jsx)("p",{children:t.content}),Object(d.jsxs)("div",{className:"likes",onClick:async()=>{if(!r)try{const e=localStorage.getItem("token");200===(await g.put(`http://88.200.63.148:8211/api/posts/${s}/like`,{},{headers:{Authorization:`Bearer ${e}`}})).status?(n(c+1),i(!0)):console.error("Failed to like the post")}catch(e){console.error("Error:",e)}},style:{cursor:"pointer"},children:[Object(d.jsx)("div",{children:c}),Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:v,alt:"heart",className:"heart-icon "+(r?"liked":"")})})]}),Object(d.jsxs)("p",{children:["Posted on ",new Date(t.publish_time).toLocaleDateString()]}),h?Object(d.jsxs)("div",{className:"post-actions dropdown",children:[Object(d.jsxs)("button",{onClick:()=>{j(!l)},className:"dropdown-toggle",children:[Object(d.jsx)("div",{className:"dot"}),Object(d.jsx)("div",{className:"dot"}),Object(d.jsx)("div",{className:"dot"})]}),l&&Object(d.jsxs)("ul",{className:"dropdown-menu show",children:[Object(d.jsx)("li",{onClick:()=>{m(!0),O(t.content)},children:"Edit"}),Object(d.jsx)("li",{onClick:async()=>{try{const e=localStorage.getItem("token");200===(await g.delete(`http://88.200.63.148:8211/api/posts/${s}`,{headers:{Authorization:`Bearer ${e}`}})).status?alert("Post deleted successfully."):console.error("Failed to delete the post")}catch(e){console.error("Error:",e)}},children:"Delete"})]})]}):Object(d.jsx)("div",{className:"notification",children:Object(d.jsx)("p",{children:"You cannot edit or delete this post because you are not the author."})})]}):Object(d.jsx)("p",{children:"Loading..."})};s(35);var N=e=>{let{latestPosts:t}=e;const[s,c]=Object(a.useState)(""),[n,r]=Object(a.useState)([]),i=Object(o.o)(),l=async e=>{try{const t=(await g.get("http://88.200.63.148:8211/api/posts/search",{params:{query:e,type:"tag"}})).data;r(t),1===t.length&&j(t[0].post_id)}catch(t){console.error("Error fetching posts by tag:",t)}},j=e=>{i(`/posts/${e}`),c(""),r([])};return Object(d.jsxs)("div",{className:"sidebar",children:[Object(d.jsxs)("div",{className:"search-bar",children:[Object(d.jsx)("input",{type:"text",placeholder:"Search",value:s,onChange:async e=>{const t=e.target.value;if(c(t),t)try{const e=(await g.get("http://88.200.63.148:8211/api/posts/search",{params:{query:t,type:"content"}})).data;r(e),1===e.length&&j(e[0].post_id)}catch(s){console.error("Error fetching search results:",s)}else r([])}}),s&&Object(d.jsx)("div",{className:"search-results",children:n.map((e=>Object(d.jsxs)("div",{className:"search-result",onClick:()=>j(e.post_id),children:[Object(d.jsx)("h4",{children:e.title}),Object(d.jsx)("p",{children:new Date(e.publish_time).toLocaleDateString()})]},e.post_id)))})]}),Object(d.jsxs)("div",{className:"latest-news",children:[Object(d.jsx)("h3",{children:"Latest News"}),t.map((e=>Object(d.jsxs)("div",{className:"latest-post",children:[Object(d.jsx)("h4",{children:e.title}),Object(d.jsx)("p",{children:new Date(e.publish_time).toLocaleDateString()})]},e.post_id)))]}),Object(d.jsxs)("div",{className:"categories",children:[Object(d.jsx)("h3",{children:"Categories"}),Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{onClick:()=>l("Decoration"),children:"Decoration"}),Object(d.jsx)("li",{onClick:()=>l("Door Windows"),children:"Door Windows"}),Object(d.jsx)("li",{onClick:()=>l("Home Land"),children:"Home Land"}),Object(d.jsx)("li",{onClick:()=>l("Roof Installation"),children:"Roof Installation"})]})]}),Object(d.jsxs)("div",{className:"tags",children:[Object(d.jsx)("h3",{children:"Tags"}),Object(d.jsxs)("div",{className:"tag-list",children:[Object(d.jsx)("span",{onClick:()=>l("Kitchen"),children:"Kitchen"}),Object(d.jsx)("span",{onClick:()=>l("Bedroom"),children:"Bedroom"}),Object(d.jsx)("span",{onClick:()=>l("Building"),children:"Building"}),Object(d.jsx)("span",{onClick:()=>l("Architecture"),children:"Architecture"}),Object(d.jsx)("span",{onClick:()=>l("Kitchen Painting"),children:"Kitchen Painting"}),Object(d.jsx)("span",{onClick:()=>l("Bedroom"),children:"Bedroom"})]})]})]})};s(36);var w=e=>{let{postId:t}=e;const[s,c]=Object(a.useState)([]),[n,r]=Object(a.useState)(null),[i,o]=Object(a.useState)(""),[l,j]=Object(a.useState)(""),[h,b]=Object(a.useState)(""),[p,m]=Object(a.useState)(null),[u,O]=Object(a.useState)([]),x=Object(a.useCallback)((async()=>{try{const e=await g.get(`http://88.200.63.148:8211/api/posts/${t}`);console.log("Fetched comments:",e.data),c(e.data.comments||[]),O(e.data.likedComments||[])}catch(e){console.error("Error fetching comments:",e),c([])}}),[t]);Object(a.useEffect)((()=>{x()}),[x]);const f=async()=>{try{const e=localStorage.getItem("token");if(!e)return void alert("You must be logged in to reply to comments.");await g.post(`http://88.200.63.148:8211/api/posts/${t}/comments/${p}/reply`,{content:l,post_id:t,parent_id:p},{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),j(""),m(null),x()}catch(e){e.response&&401===e.response.status?alert("You must be logged in to reply to comments."):console.error("Error replying to comment:",e)}};return Object(d.jsxs)("div",{className:"comments-section",children:[Object(d.jsxs)("div",{className:"new-comment",children:[Object(d.jsx)("textarea",{value:h,onChange:e=>b(e.target.value),placeholder:"Write your comment..."}),Object(d.jsx)("button",{onClick:async()=>{try{const e=localStorage.getItem("token");if(!e)return void alert("You must be logged in to add comments.");await g.post(`http://88.200.63.148:8211/api/posts/${t}/comments`,{content:h},{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),b(""),x()}catch(e){e.response&&401===e.response.status?alert("You must be logged in to add comments."):console.error("Error adding new comment:",e)}},children:"Submit Comment"})]}),Array.isArray(s)&&s.map((e=>Object(d.jsxs)("div",{className:"comment",children:[Object(d.jsxs)("div",{className:"comment-header",children:[Object(d.jsx)("span",{className:"comment-author",children:e.first_name&&e.last_name?`${e.first_name} ${e.last_name}`:"Unknown Author"}),Object(d.jsx)("span",{className:"comment-date",children:e.publish_time?new Date(e.publish_time).toLocaleString():"Unknown Date"})]}),n===e.comment_id?Object(d.jsx)("textarea",{value:i,onChange:e=>o(e.target.value)}):Object(d.jsx)("p",{className:"comment-text",children:e.content||"No content"}),Object(d.jsxs)("div",{className:"comment-actions",children:[Object(d.jsx)("img",{src:v,alt:"Like",onClick:()=>(async e=>{try{const s=localStorage.getItem("token");if(!s)return void alert("You must be logged in to like comments.");await g.post(`http://88.200.63.148:8211/api/posts/${t}/comments/${e}/like`,{},{headers:{Authorization:`Bearer ${s}`}}),x()}catch(s){s.response&&401===s.response.status?alert("You must be logged in to like comments."):console.error("Error liking comment:",s)}})(e.comment_id),className:u.includes(e.comment_id)?"liked":""}),Object(d.jsx)("span",{children:e.likes}),Object(d.jsx)("button",{onClick:()=>r(e.comment_id),children:"Edit"}),Object(d.jsx)("button",{onClick:()=>(async e=>{try{const s=localStorage.getItem("token");if(!s)return void alert("You must be logged in to delete comments.");await g.delete(`http://88.200.63.148:8211/api/posts/${t}/comments/${e}`,{headers:{Authorization:`Bearer ${s}`}}),x()}catch(s){s.response&&401===s.response.status?alert("You must be logged in to delete comments."):console.error("Error deleting comment:",s)}})(e.comment_id),children:"Delete"}),Object(d.jsx)("button",{onClick:()=>m(e.comment_id),children:"Reply"})]}),n===e.comment_id&&Object(d.jsx)("button",{onClick:()=>(async e=>{try{const s=localStorage.getItem("token");if(!s)return void alert("You must be logged in to edit comments.");await g.put(`http://88.200.63.148:8211/api/posts/${t}/comments/${e}`,{content:i},{headers:{Authorization:`Bearer ${s}`}}),r(null),o(""),x()}catch(s){s.response&&401===s.response.status?alert("You must be logged in to edit comments."):console.error("Error editing comment:",s)}})(e.comment_id),children:"Save"}),p===e.comment_id&&Object(d.jsxs)("div",{className:"reply-section",children:[Object(d.jsx)("textarea",{value:l,onChange:e=>j(e.target.value),placeholder:"Write a reply..."}),Object(d.jsx)("button",{onClick:f,children:"Submit Reply"})]}),e.replies&&e.replies.length>0&&Object(d.jsx)("div",{className:"replies",children:e.replies.map((e=>Object(d.jsxs)("div",{className:"reply",children:[Object(d.jsxs)("div",{className:"reply-header",children:[Object(d.jsx)("span",{className:"reply-author",children:e.first_name&&e.last_name?`${e.first_name} ${e.last_name}`:"Unknown Author"}),Object(d.jsx)("span",{className:"reply-date",children:e.publish_time?new Date(e.publish_time).toLocaleString():"Unknown Date"})]}),Object(d.jsx)("p",{className:"reply-text",children:e.content||"No content"})]},e.comment_id)))})]},e.comment_id)))]})};s(16);var A=()=>{const{postId:e}=Object(o.q)(),[t,s]=Object(a.useState)(null),[c,n]=Object(a.useState)([]);return Object(a.useEffect)((()=>{(async()=>{try{const t=localStorage.getItem("token"),a=await g.get(`http://88.200.63.148:8211/api/posts/${e}`,{headers:{Authorization:`Bearer ${t}`}});s(a.data)}catch(t){console.error("Error fetching post:",t)}})(),(async()=>{try{const e=localStorage.getItem("token"),t=await g.get("http://88.200.63.148:8211/api/posts",{headers:{Authorization:`Bearer ${e}`}});n(t.data)}catch(e){console.error("Error fetching latest posts:",e)}})()}),[e]),Object(d.jsxs)("div",{className:"single-post-page",children:[Object(d.jsx)(u,{}),Object(d.jsx)("div",{className:"banner",children:Object(d.jsx)("img",{src:f,alt:"Banner"})}),Object(d.jsx)("h1",{className:"title",children:"We Create The Art Of Stylish Living Stylishly"}),Object(d.jsxs)("div",{className:"content",children:[t&&Object(d.jsx)(y,{post:t.post}),Object(d.jsx)(N,{latestPosts:c})]}),t&&Object(d.jsx)(w,{postId:e}),Object(d.jsx)(O,{})]})};s(17);var S=()=>{const[e,t]=Object(a.useState)(""),[s,c]=Object(a.useState)(""),[n,r]=Object(a.useState)(""),[i,h]=Object(a.useState)(!1),{setUser:b,setRole:p,setIsAuthenticated:m,setLoading:u,setToken:O}=Object(a.useContext)(j),x=Object(o.o)();return Object(d.jsx)("div",{className:"overlay",children:Object(d.jsx)("form",{onSubmit:async t=>{t.preventDefault(),r("");try{const t=await l.a.post("http://88.200.63.148:8211/api/user/login",{email:e,password:s},{withCredentials:!0}),{role:a,token:c,userId:n}=t.data;console.log(t.data),localStorage.setItem("token",c),console.log("Token stored in local storage"),localStorage.setItem("logged_in_user_id",n),O(c),p(a),m(!0),u(!0);(async()=>{try{const e={headers:{Authorization:`Bearer ${c}`},withCredentials:!0},t="Professional"===a?await l.a.get("http://88.200.63.148:8211/api/user/profile/professional",e):await l.a.get("http://88.200.63.148:8211/api/user/profile/client",e);b(t.data),x("Professional"===a?"/profile/professional":"/profile/client")}catch(e){console.error("Error fetching profile:",e),r("Failed to fetch profile")}finally{u(!1)}})()}catch(a){r("Invalid login credentials"),console.error("Error during login:",a.response?a.response.data:a.message)}},children:Object(d.jsxs)("div",{className:"con",children:[Object(d.jsxs)("header",{className:"head-form",children:[Object(d.jsx)("h2",{children:"Log In"}),Object(d.jsx)("p",{children:"login here using your username and password"})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"field-set",children:[Object(d.jsx)("span",{className:"input-item",children:Object(d.jsx)("i",{className:"fa fa-user-circle"})}),Object(d.jsx)("input",{className:"form-input",id:"txt-input",type:"email",placeholder:"Email",value:e,onChange:e=>t(e.target.value),required:!0}),Object(d.jsx)("br",{}),Object(d.jsx)("span",{className:"input-item",children:Object(d.jsx)("i",{className:"fa fa-key"})}),Object(d.jsx)("input",{className:"form-input",type:i?"text":"password",placeholder:"Password",id:"pwd",name:"password",value:s,onChange:e=>c(e.target.value),required:!0}),Object(d.jsx)("span",{onClick:()=>{h(!i)},children:Object(d.jsx)("i",{className:"fa fa-eye"+(i?"":"-slash"),"aria-hidden":"true",id:"eye"})}),Object(d.jsx)("br",{}),n&&Object(d.jsx)("p",{style:{color:"red"},children:n}),Object(d.jsxs)("button",{className:"log-in",type:"submit",children:[" ","Log In"," "]})]}),Object(d.jsxs)("div",{className:"other",children:[Object(d.jsx)("button",{className:"btn submits frgt-pass",onClick:()=>x("/"),children:"Home"}),Object(d.jsxs)("button",{className:"btn submits sign-up",onClick:()=>x("/register"),children:["Sign Up ",Object(d.jsx)("i",{className:"fa fa-user-plus","aria-hidden":"true"})]})]})]})})})};var k=()=>{const[e,t]=Object(a.useState)({first_name:"",last_name:"",location:"",birthday:"",email:"",password:"",education:""}),[s,c]=Object(a.useState)(null),[n,r]=Object(a.useState)("client"),[i,j]=Object(a.useState)(""),h=Object(o.o)(),b=s=>{t({...e,[s.target.name]:s.target.value})};return Object(d.jsx)("div",{className:"overlay",children:Object(d.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{let t;const a="client"===n?"/api/user/register/client":"/api/user/register/professional";if("client"===n)t=await l.a.post(`http://88.200.63.148:8211${a}`,e,{headers:{"Content-Type":"application/json"}});else{const c=new FormData;Object.keys(e).forEach((t=>{c.append(t,e[t])})),s&&c.append("portfolio",s),t=await l.a.post(`http://88.200.63.148:8211${a}`,c,{headers:{"Content-Type":"multipart/form-data"}})}const{token:c}=t.data;localStorage.setItem("token",c),h("/login")}catch(a){a.response&&"ER_DUP_ENTRY"===a.response.data.code?j("Email already registered. Please use a different email."):j("Registration failed. Please try again later.")}},children:[Object(d.jsxs)("div",{className:"tab-container",children:[Object(d.jsx)("div",{className:"tab "+("client"===n?"active":""),onClick:()=>r("client"),children:"Client"}),Object(d.jsx)("div",{className:"tab "+("professional"===n?"active":""),onClick:()=>r("professional"),children:"Professional"})]}),Object(d.jsxs)("div",{className:"con",children:[Object(d.jsxs)("header",{className:"head-form",children:[Object(d.jsx)("h2",{children:"Register"}),Object(d.jsx)("p",{children:"Register here using your details"})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"field-set",children:[i&&Object(d.jsx)("p",{className:"error",children:i}),Object(d.jsx)("span",{className:"input-item",children:Object(d.jsx)("i",{className:"fa fa-user-circle"})}),Object(d.jsx)("input",{className:"form-input",type:"text",name:"first_name",placeholder:"First Name",value:e.first_name,onChange:b,required:!0}),Object(d.jsx)("br",{}),Object(d.jsx)("span",{className:"input-item",children:Object(d.jsx)("i",{className:"fa fa-user-circle"})}),Object(d.jsx)("input",{className:"form-input",type:"text",name:"last_name",placeholder:"Last Name",value:e.last_name,onChange:b,required:!0}),Object(d.jsx)("br",{}),Object(d.jsx)("span",{className:"input-item",children:Object(d.jsx)("i",{className:"fa fa-map-marker"})}),Object(d.jsx)("input",{className:"form-input",type:"text",name:"location",placeholder:"Location",value:e.location,onChange:b,required:!0}),Object(d.jsx)("br",{}),Object(d.jsx)("span",{className:"input-item",children:Object(d.jsx)("i",{className:"fa fa-calendar"})}),Object(d.jsx)("input",{className:"form-input",type:"date",name:"birthday",placeholder:"Birthday",value:e.birthday,onChange:b,required:!0}),Object(d.jsx)("br",{}),Object(d.jsx)("span",{className:"input-item",children:Object(d.jsx)("i",{className:"fa fa-envelope"})}),Object(d.jsx)("input",{className:"form-input",type:"email",name:"email",placeholder:"Email",value:e.email,onChange:b,required:!0}),Object(d.jsx)("br",{}),Object(d.jsx)("span",{className:"input-item",children:Object(d.jsx)("i",{className:"fa fa-key"})}),Object(d.jsx)("input",{className:"form-input",type:"password",name:"password",placeholder:"Password",value:e.password,onChange:b,required:!0}),Object(d.jsx)("br",{}),"professional"===n&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("span",{className:"input-item",children:Object(d.jsx)("i",{className:"fa fa-university"})}),Object(d.jsx)("input",{className:"form-input",type:"text",name:"education",placeholder:"Education History",value:e.education,onChange:b,required:!0}),Object(d.jsx)("br",{}),Object(d.jsx)("span",{className:"input-item",children:Object(d.jsx)("i",{className:"fa fa-upload"})}),Object(d.jsx)("input",{className:"form-input",type:"file",name:"portfolio",onChange:e=>{c(e.target.files[0])},required:!0}),Object(d.jsx)("br",{})]}),Object(d.jsx)("button",{className:"log-in",children:"Register"})]})]})]})})},C=s.p+"static/media/image_2024-07-21_23-08-45.41303eb3.png";s(37);var I=e=>{let{post:t}=e;const s=Object(o.o)();return Object(d.jsxs)("div",{className:"post",onClick:()=>{s(`/posts/${t.post_id}`)},children:[t.image_url&&Object(d.jsx)("img",{src:t.image_url,alt:"Post",className:"post-image"}),Object(d.jsxs)("div",{className:"post-content",children:[Object(d.jsx)("h2",{children:t.title}),Object(d.jsxs)("p",{children:["Likes: ",t.likes]}),Object(d.jsxs)("p",{children:["Posted by ",t.first_name," ",t.last_name," on ",new Date(t.publish_time).toLocaleDateString()]})]})]})};var P=()=>{const[e,t]=Object(a.useState)([]);Object(a.useEffect)((()=>{(async()=>{try{const e=await g.get("http://88.200.63.148:8211/api/posts");t(e.data)}catch(e){console.error("Error fetching posts:",e)}})()}),[]);const s=async()=>{try{const e=await g.get("http://88.200.63.148:8211/api/posts");t(e.data)}catch(e){console.error("Error fetching posts:",e)}},c=e.length>0?e[0]:null,n=e.length>1?e.slice(1):[];return Object(d.jsxs)("div",{className:"main-content",children:[Object(d.jsx)(u,{}),Object(d.jsx)("div",{className:"banner",children:Object(d.jsx)("img",{src:C,alt:"Banner"})}),Object(d.jsx)("h1",{children:"Articles & News"}),Object(d.jsxs)("div",{className:"latest-post",children:[Object(d.jsx)("h2",{children:"Latest post"}),c&&Object(d.jsx)(I,{post:c,updatePosts:s,className:"latest-post-item"})]}),Object(d.jsx)("div",{className:"posts-grid",children:n.map((e=>Object(d.jsx)(I,{post:e,updatePosts:s},e.post_id)))})]})},E=s.p+"static/media/pexels-pixabay-462235.52b0be5b.jpg";s(38);var U=()=>{const[e,t]=Object(a.useState)(""),[s,c]=Object(a.useState)(""),[n,r]=Object(a.useState)(""),[i,l]=Object(a.useState)(null),[j,h]=Object(a.useState)(""),[b,p]=Object(a.useState)(""),m=Object(o.o)();return Object(d.jsxs)("div",{className:"create-post-page",children:[Object(d.jsx)(u,{}),Object(d.jsx)("div",{className:"banner",children:Object(d.jsx)("img",{src:f,alt:"Banner"})}),Object(d.jsx)("h1",{children:"Create a New Post"}),Object(d.jsxs)("div",{className:"content",children:[Object(d.jsxs)("div",{className:"quote",children:[Object(d.jsxs)("p",{children:[Object(d.jsx)("span",{className:"quote-symbol",children:"\u201c"}),"I like an interior that defies labeling. I don't really want someone to walk into a room and know that I did it",Object(d.jsx)("span",{className:"quote-symbol",children:"\u201d"})]}),Object(d.jsx)("p",{className:"author",children:"- Bunny Williams"})]}),Object(d.jsxs)("div",{className:"form-container",children:[Object(d.jsxs)("form",{onSubmit:async t=>{t.preventDefault();const a=new FormData;a.append("title",e),a.append("content",s),a.append("tags",n),a.append("image",i);try{const e=localStorage.getItem("token");if(!e)return p("You must be logged in to create a post. Please register or log in."),h(""),void console.log("No token found in local storage.");console.log("Token found:",e);const t=await g.post("http://88.200.63.148:8211/api/posts/",a,{withCredentials:!0,headers:{Authorization:`Bearer ${e}`}});201===t.status?(h("Post created successfully!"),p(""),console.log("Post created successfully."),m("/posts")):(p("There was an error creating your post. Please try again."),h(""),console.error("Error response:",t))}catch(b){console.error("Error creating post:",b),p("There was an error creating your post. Please try again."),h("")}},children:[Object(d.jsx)("label",{children:"Title:"}),Object(d.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),required:!0}),Object(d.jsx)("label",{children:"Content:"}),Object(d.jsx)("textarea",{value:s,onChange:e=>c(e.target.value)}),Object(d.jsx)("label",{children:"Tags:"}),Object(d.jsx)("input",{type:"text",value:n,onChange:e=>r(e.target.value)}),Object(d.jsx)("label",{children:"Image:"}),Object(d.jsx)("input",{type:"file",onChange:e=>{l(e.target.files[0])}}),Object(d.jsx)("button",{type:"submit",children:"Create Post"})]}),Object(d.jsx)("div",{className:"form-image",children:Object(d.jsx)("img",{src:E,alt:"Decor"})})]}),j&&Object(d.jsx)("div",{className:"success-message centered",children:j}),b&&Object(d.jsxs)("div",{className:"error-message centered",children:[b," ",Object(d.jsx)("a",{href:"/register",children:"Join the community"})]})]}),Object(d.jsx)(O,{})]})};s(39);var F=e=>{let{serviceId:t,title:s,price:a,features:c,onGetStartedClick:n}=e;return Object(d.jsxs)("div",{className:"pricing-item",onClick:()=>n(t),children:[Object(d.jsx)("h3",{children:s}),Object(d.jsx)("p",{className:"price",children:a}),Object(d.jsx)("ul",{children:c.map(((e,t)=>Object(d.jsx)("li",{children:e},t)))}),Object(d.jsx)("button",{className:"get-started",children:"Get Started"})]})},B=(s(40),s.p+"static/media/hands.5e47df7b.jpg");var D=()=>{const e=Object(o.o)(),{user:t}=Object(a.useContext)(j),[s,c]=Object(a.useState)([]),[n,r]=Object(a.useState)(null),[i,h]=Object(a.useState)("");Object(a.useEffect)((()=>{l.a.get("http://88.200.63.148:8211/api/user/professionals").then((e=>c(e.data))).catch((e=>console.error("Error fetching professionals:",e)))}),[]);const b=e=>{r(e)};return Object(d.jsxs)("div",{children:[Object(d.jsx)(u,{}),Object(d.jsx)("div",{className:"banner",children:Object(d.jsx)("img",{src:B,alt:"Banner"})}),Object(d.jsx)("p",{children:'"Our interior design services are tailored to meet your unique needs and budget.'}),Object(d.jsx)("p",{children:' Choose from our range of services to get started on your dream space today."'}),Object(d.jsx)("section",{className:"services",children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("h2",{children:"Services"}),Object(d.jsxs)("div",{className:"service-items",children:[Object(d.jsx)(F,{serviceId:1,title:"Design advices",price:"\u20ac29/month",features:["General living space advices","Renovation advices","Interior design advices","Furniture reorganization","Up to 5 hours meetings"],onGetStartedClick:()=>b({serviceId:1,name:"Design advices",price:29})}),Object(d.jsx)(F,{serviceId:2,title:"Complete interior",price:"\u20ac39/month",features:["Complete home redesign","Interior and exterior works","Modular interior planning","Kitchen design","Garages organization"],onGetStartedClick:()=>b({serviceId:2,name:"Complete interior",price:39})}),Object(d.jsx)(F,{serviceId:3,title:"Furniture design",price:"\u20ac59/month",features:["Furniture for living room","Furniture refurbishment","Sofas and armchairs","Tables and chairs","Kitchens"],onGetStartedClick:()=>b({serviceId:3,name:"Furniture design",price:59})})]})]})}),n&&Object(d.jsx)("section",{className:"professional-selection",children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("h3",{children:"Select a Professional"}),Object(d.jsxs)("select",{value:i,onChange:e=>{h(e.target.value)},children:[Object(d.jsx)("option",{value:"",children:"--Select Professional--"}),s.map((e=>Object(d.jsxs)("option",{value:e.user_id,children:[e.first_name," ",e.last_name," - ",e.email]},e.user_id)))]}),Object(d.jsx)("button",{onClick:()=>{i&&n&&t?e(`/paypal-payment/${n.serviceId}`,{state:{service:n,professionalId:i,userId:t.id}}):alert("Please select a professional and ensure you are logged in before continuing to payment.")},className:"continue-button",children:"Continue to Payment"})]})}),Object(d.jsx)(O,{})]})},Y=s(9),H=s.n(Y),R=(s(41),s(42),s.p+"static/media/geo-alt-fill.d729a1fc.svg");var q=()=>{const[e,t]=Object(a.useState)([]),[s,c]=Object(a.useState)([]),[n,r]=Object(a.useState)("");Object(a.useEffect)((()=>{l.a.get("http://88.200.63.148:8211/api/user/professionals").then((e=>{console.log("Fetched professionals:",e.data),e.data.forEach((e=>{console.log(`Professional: ${e.first_name} ${e.last_name}, Location: ${e.location}`)})),t(e.data)})).catch((e=>{console.error("Error fetching professionals",e)}))}),[]);return Object(a.useEffect)((()=>{if(s.length>0){const e=H.a.map("map").setView([46.1512,14.9955],8);H.a.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors"}).addTo(e);const t=H.a.icon({iconUrl:R,iconSize:[38,38],iconAnchor:[22,38],popupAnchor:[0,-30]});return s.forEach((s=>{H.a.marker([s.lat,s.lng],{icon:t}).addTo(e).bindPopup(`<strong>${s.first_name} ${s.last_name}</strong><br />${s.email}`)})),()=>{e.remove()}}}),[s]),Object(d.jsxs)("div",{children:[Object(d.jsx)(u,{}),Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("h2",{children:"Our Professionals"}),Object(d.jsxs)("div",{className:"search-bar",children:[Object(d.jsx)("input",{type:"text",placeholder:"Enter city or location",value:n,onChange:e=>r(e.target.value)}),Object(d.jsx)("button",{onClick:async()=>{if(!n)return void console.error("Search location is empty");const t=await Promise.all(e.map((async e=>{if(!e.location)return console.warn(`Professional ${e.first_name} ${e.last_name} has no location specified.`),null;console.log(`Geocoding location for: ${e.location}`);const t=await(async e=>{if(!e)return console.error("Geocode location is undefined or empty"),null;try{const t="ad8c32724cd0405486dddd1ba152e770";console.log(`Requesting geocode for location: ${e}`);const s=await l.a.get(`https://api.opencagedata.com/geocode/v1/json?q=${encodeURIComponent(e)}&key=${t}`);console.log("Geocode API response:",s.data);const a=s.data.results;if(a&&a.length>0){const{lat:t,lng:s}=a[0].geometry;return console.log(`Geocode successful: ${e} -> [${t}, ${s}]`),{lat:t,lng:s}}return console.warn(`Geocode results are empty for location: ${e}`),null}catch(t){return console.error("Error during geocoding",t),null}})(e.location);return t?{...e,lat:t.lat,lng:t.lng}:(console.warn(`Could not geocode location for: ${e.location}`),null)}))),s=t.filter((e=>e&&e.location.toLowerCase().includes(n.toLowerCase())));c(s)},children:"Search"})]}),Object(d.jsx)("div",{id:"map",style:{height:"400px",width:"100%"}})]}),Object(d.jsx)(O,{})]})},L=(s(43),s.p+"static/media/profile.97c7133f.png");var T=()=>{const{user:e,setUser:t,isAuthenticated:s}=Object(a.useContext)(j),[c,n]=Object(a.useState)(!1),[r,i]=Object(a.useState)({firstName:"",lastName:"",location:"",email:"",profileImage:null,education_history:"",existingProfileImage:""}),[o,h]=Object(a.useState)(null),[b,p]=Object(a.useState)(""),[x,g]=Object(a.useState)(""),[f,v]=Object(a.useState)(!1),[y,N]=Object(a.useState)("");Object(a.useEffect)((()=>{e&&(i({firstName:e.first_name||"",lastName:e.last_name||"",location:e.location||"",email:e.email||"",profileImage:e.profile_picture?`http://88.200.63.148:8211${e.profile_picture}`:L,education_history:e.education_history||"",existingProfileImage:e.profile_picture||""}),h(e.portfolio||null))}),[e]);const w=e=>{const{name:t,value:s}=e.target;i({...r,[t]:s})};return s?Object(d.jsxs)("div",{children:[Object(d.jsx)(u,{}),Object(d.jsxs)("div",{className:"profile-container",children:[Object(d.jsxs)("div",{className:"profile-header",children:[Object(d.jsx)("img",{src:"string"===typeof r.profileImage?r.profileImage:L,alt:"Profile"}),Object(d.jsxs)("div",{className:"profile-info",children:[Object(d.jsxs)("h2",{children:[r.firstName," ",r.lastName]}),Object(d.jsx)("p",{children:r.email}),Object(d.jsx)("p",{children:r.location})]})]}),c?Object(d.jsxs)("div",{className:"edit-form",children:[Object(d.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(d.jsx)("input",{type:"text",name:"firstName",value:r.firstName,onChange:w}),Object(d.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(d.jsx)("input",{type:"text",name:"lastName",value:r.lastName,onChange:w}),Object(d.jsx)("label",{htmlFor:"location",children:"Location"}),Object(d.jsx)("input",{type:"text",name:"location",value:r.location,onChange:w}),Object(d.jsx)("label",{htmlFor:"email",children:"Email"}),Object(d.jsx)("input",{type:"email",name:"email",value:r.email,onChange:w}),Object(d.jsx)("label",{htmlFor:"education_history",children:"Education History"}),Object(d.jsx)("input",{type:"text",name:"education_history",value:r.education_history,onChange:w}),Object(d.jsx)("label",{htmlFor:"profileImage",children:"Profile Image"}),Object(d.jsx)("input",{type:"file",name:"profileImage",onChange:e=>{i({...r,profileImage:e.target.files[0]})}}),Object(d.jsx)("label",{htmlFor:"portfolio",children:"Portfolio"}),Object(d.jsx)("input",{type:"file",name:"portfolio",onChange:e=>{h(e.target.files[0])}}),Object(d.jsx)("h3",{children:"Change Password"}),Object(d.jsx)("label",{htmlFor:"oldPassword",children:"Old Password"}),Object(d.jsx)("div",{className:"password-container",children:Object(d.jsx)("input",{type:f?"text":"password",name:"oldPassword",value:b,onChange:e=>p(e.target.value)})}),Object(d.jsx)("label",{htmlFor:"newPassword",children:"New Password"}),Object(d.jsx)("div",{className:"password-container",children:Object(d.jsx)("input",{type:f?"text":"password",name:"newPassword",value:x,onChange:e=>g(e.target.value)})}),Object(d.jsxs)("div",{className:"show-password",children:[Object(d.jsx)("input",{type:"checkbox",id:"showPassword",checked:f,onChange:()=>{v(!f)}}),Object(d.jsx)("label",{htmlFor:"showPassword",children:"Show Password"})]}),Object(d.jsx)("button",{onClick:async()=>{const e=localStorage.getItem("token");try{await l.a.put("http://88.200.63.148:8211/api/user/change-password",{oldPassword:b,newPassword:x},{headers:{Authorization:`Bearer ${e}`},withCredentials:!0});N("Password updated successfully."),p(""),g("")}catch(t){N("Failed to update password. Please check your old password."),console.error("Error updating password",t.response?t.response.data:t.message)}},className:"change-password-button",children:"Change Password"}),y&&Object(d.jsx)("p",{children:y}),Object(d.jsx)("button",{onClick:()=>{const e=new FormData;e.append("firstName",r.firstName),e.append("lastName",r.lastName),e.append("location",r.location),e.append("email",r.email),e.append("education_history",r.education_history),r.profileImage&&"object"===typeof r.profileImage?e.append("profile_picture",r.profileImage):e.append("profile_picture",r.existingProfileImage),o&&e.append("portfolio",o);const s=localStorage.getItem("token");l.a.put("http://88.200.63.148:8211/api/user/profile/professional",e,{headers:{Authorization:`Bearer ${s}`},withCredentials:!0}).then((e=>{l.a.get("http://88.200.63.148:8211/api/user/profile/professional",{headers:{Authorization:`Bearer ${s}`},withCredentials:!0}).then((e=>{t(e.data),n(!1)})).catch((e=>{console.error("Error fetching updated user data",e.response?e.response.data:e.message)}))})).catch((e=>{console.error("Error updating profile",e.response?e.response.data:e.message)}))},children:"Save"})]}):Object(d.jsx)("button",{className:"edit-button",onClick:()=>n(!0),children:"Edit Profile"})]}),Object(d.jsx)(O,{})]}):Object(d.jsx)(m,{text:"Please log in to view your profile."})};s(44);var z=()=>{const{user:e,setUser:t,isAuthenticated:s}=Object(a.useContext)(j),[c,n]=Object(a.useState)(!1),[r,i]=Object(a.useState)({firstName:"",lastName:"",location:"",email:"",profileImage:null,existingProfileImage:""}),[o,h]=Object(a.useState)(""),[b,p]=Object(a.useState)(""),[x,g]=Object(a.useState)(!1),[f,v]=Object(a.useState)("");Object(a.useEffect)((()=>{e&&i({firstName:e.first_name||"",lastName:e.last_name||"",location:e.location||"",email:e.email||"",profileImage:e.profile_picture?`http://88.200.63.148:8211${e.profile_picture}`:L,existingProfileImage:e.profile_picture||""})}),[e]);const y=e=>{const{name:t,value:s}=e.target;i({...r,[t]:s})};return s?Object(d.jsxs)("div",{children:[Object(d.jsx)(u,{}),Object(d.jsxs)("div",{className:"container",children:[Object(d.jsxs)("div",{className:"profile-header",children:[Object(d.jsx)("img",{src:"string"===typeof r.profileImage?r.profileImage:L,alt:"Profile"}),Object(d.jsxs)("div",{className:"profile-info",children:[Object(d.jsxs)("h2",{children:[r.firstName," ",r.lastName]}),Object(d.jsx)("p",{children:r.email}),Object(d.jsx)("p",{children:r.location})]})]}),c?Object(d.jsxs)("div",{className:"edit-form",children:[Object(d.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(d.jsx)("input",{type:"text",name:"firstName",value:r.firstName,onChange:y}),Object(d.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(d.jsx)("input",{type:"text",name:"lastName",value:r.lastName,onChange:y}),Object(d.jsx)("label",{htmlFor:"location",children:"Location"}),Object(d.jsx)("input",{type:"text",name:"location",value:r.location,onChange:y}),Object(d.jsx)("label",{htmlFor:"email",children:"Email"}),Object(d.jsx)("input",{type:"email",name:"email",value:r.email,onChange:y}),Object(d.jsx)("label",{htmlFor:"profileImage",children:"Profile Image"}),Object(d.jsx)("input",{type:"file",name:"profileImage",onChange:e=>{i({...r,profileImage:e.target.files[0]})}}),Object(d.jsx)("h3",{children:"Change Password"}),Object(d.jsx)("label",{htmlFor:"oldPassword",children:"Old Password"}),Object(d.jsx)("div",{className:"password-container",children:Object(d.jsx)("input",{type:x?"text":"password",name:"oldPassword",value:o,onChange:e=>h(e.target.value)})}),Object(d.jsx)("label",{htmlFor:"newPassword",children:"New Password"}),Object(d.jsx)("div",{className:"password-container",children:Object(d.jsx)("input",{type:x?"text":"password",name:"newPassword",value:b,onChange:e=>p(e.target.value)})}),Object(d.jsxs)("div",{className:"show-password",children:[Object(d.jsx)("input",{type:"checkbox",id:"showPassword",checked:x,onChange:()=>{g(!x)}}),Object(d.jsx)("label",{htmlFor:"showPassword",children:"Show Password"})]}),Object(d.jsx)("button",{onClick:()=>{const e=localStorage.getItem("token");l.a.put("http://88.200.63.148:8211/api/user/change-password",{oldPassword:o,newPassword:b},{headers:{Authorization:`Bearer ${e}`},withCredentials:!0}).then((e=>{v("Password updated successfully."),h(""),p("")})).catch((e=>{v("Failed to update password."),console.error("Error changing password:",e.response?e.response.data:e.message)}))},className:"change-password-button",children:"Change Password"}),f&&Object(d.jsx)("p",{children:f}),Object(d.jsx)("button",{onClick:()=>{const e=new FormData;e.append("firstName",r.firstName),e.append("lastName",r.lastName),e.append("location",r.location),e.append("email",r.email),r.profileImage instanceof File?e.append("profile_picture",r.profileImage):e.append("existingProfileImage",r.existingProfileImage);const s=localStorage.getItem("token");l.a.put("http://88.200.63.148:8211/api/user/profile/client",e,{headers:{Authorization:`Bearer ${s}`},withCredentials:!0}).then((e=>{l.a.get("http://88.200.63.148:8211/api/user/profile/client",{headers:{Authorization:`Bearer ${s}`},withCredentials:!0}).then((e=>{t(e.data),n(!1)})).catch((e=>{console.error("Error fetching updated user data",e.response?e.response.data:e.message)}))})).catch((e=>{console.error("Error updating profile",e.response?e.response.data:e.message)}))},className:"save-button",children:"Save"})]}):Object(d.jsx)("button",{className:"edit-button",onClick:()=>n(!0),children:"Edit Profile"})]}),Object(d.jsx)(O,{})]}):Object(d.jsx)(m,{text:"Please log in to view your profile."})};s(45);var Q=e=>{let{professionalId:t,onReviewAdded:s}=e;const[c,n]=Object(a.useState)(1),[r,i]=Object(a.useState)(1),[o,h]=Object(a.useState)(1),[b,p]=Object(a.useState)(1),[m,u]=Object(a.useState)(null),{isAuthenticated:O}=Object(a.useContext)(j);return Object(d.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!O)return void u("You must be logged in to submit a review.");const a=localStorage.getItem("token"),n={quality_of_work:c,timeliness:r,reliability:o,satisfaction:b,professional_id:t};try{await l.a.post(`http://88.200.63.148:8211/api/reviews/${t}`,n,{headers:{Authorization:`Bearer ${a}`},withCredentials:!0}),alert("Review added successfully"),s()}catch(m){console.error("Error adding review:",m.response||m),u("Failed to add review. Please try again.")}},className:"add-review-form",children:[m&&Object(d.jsx)("p",{className:"error-message",children:m}),Object(d.jsxs)("label",{children:["Quality of Work:",Object(d.jsx)("input",{type:"range",min:"1",max:"5",value:c,onChange:e=>n(e.target.value)})]}),Object(d.jsxs)("label",{children:["Timeliness:",Object(d.jsx)("input",{type:"range",min:"1",max:"5",value:r,onChange:e=>i(e.target.value)})]}),Object(d.jsxs)("label",{children:["Reliability:",Object(d.jsx)("input",{type:"range",min:"1",max:"5",value:o,onChange:e=>h(e.target.value)})]}),Object(d.jsxs)("label",{children:["Satisfaction:",Object(d.jsx)("input",{type:"range",min:"1",max:"5",value:b,onChange:e=>p(e.target.value)})]}),Object(d.jsx)("button",{type:"submit",children:"Add Review"})]})},_=s.p+"static/media/brands.5147365b.png",J=s.p+"static/media/flag-fill.7f91ade8.svg",G=s.p+"static/media/chat-square.a1c1dbbd.svg",X=s.p+"static/media/clipboard-plus-fill.e59dd199.svg",K=s.p+"static/media/house-heart.236657a4.svg",M=s.p+"static/media/linkedin.d692494f.svg",W=s.p+"static/media/facebook.0236eded.svg",V=s.p+"static/media/instagram.1d5ceddc.svg",Z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD0AAAA8CAYAAADVPrJMAAAAAXNSR0IArs4c6QAAAkJJREFUaAXtWduVgjAQ3RIswR+X4BclWIIlWIIdaAl0oD9LID9uB9rBbgeUYAmzJ4HsQVZIcJkQ43gOh4cQcu/cJHeGtzf6EQPEADFADBADxAAx8MoMQB5vQcRXKBiofc4OcJjPguUECrZTYCXgmy36ChI0cDa/BdoCnsXr4IADZ5te0IKdwwOds3Mv6CK6BjW2jdLW45uzTTDRNkpbgw5J4mCUtp7UApG4tbR1tDlbPb3EraWtQT+7xEEsk1/3pUHZ7XfeRVtJlrMVdG3Z+xqyKH0QcOXWpD2V7XS9o76OTo4Caz0p6ckJfV9KctDAQ8HKfoOBDrDl2Rvv+1gkowMfPCHZjd1uEEOfz9lhfNB5nHob5Yqg8hVBX8YHLWfLoZJzeT+Wb4eC7T0Ffhw9ys0GoYjXXs3iebRt9g/tWK3XwpQfN5YTHJmX0riggexqeEK5HyctONRZlBvTIquoruTcFWl93RlwsRzfdWkQj+xVYoAzdivXJhAc1yNA28+gLmdTTFptgPfOUUH7WBdHlzdn+3tET3oNODuiRtrHMpITl8bZfNLINl8OYpGgRlmvCj5JHFzl2j5J3Im0dbR9+JY9WNqVlUxV+YmrVHWYhc0cZVXN8ds+Hlg7u0jL+qeNIXk6Ri2s3SHTuTVoQ6JQr/PmqGdRauoT+v9wSmaGon4pv3TYdKTK0+NT70rgizPrifZDeW9Pnu6XK6vTS+nKvkHEn/+tatxpL5wP9jayp3uIAWKAGCAGiAFigBggBoiBABj4AYhgFZttNgi4AAAAAElFTkSuQmCC";s(46);var $=()=>{const{userId:e}=Object(o.q)(),{isAuthenticated:t,token:s}=Object(a.useContext)(j),[c,n]=Object(a.useState)(null),[r,h]=Object(a.useState)([]),[b,p]=Object(a.useState)([]),[x,g]=Object(a.useState)(!0),[f,v]=Object(a.useState)(null),[y,N]=Object(a.useState)(!1),[w,A]=Object(a.useState)(1),[S]=Object(a.useState)(5),k=Object(o.o)();if(Object(a.useEffect)((()=>{(async()=>{g(!0),v(null);try{const t={headers:{Authorization:`Bearer ${s}`},withCredentials:!0},a=await l.a.get(`http://88.200.63.148:8211/api/user/profile/${e}`,t);console.log(a.data),n(a.data);const c=await l.a.get(`http://88.200.63.148:8211/api/posts/user/${e}`);if(h(c.data),"Professional"===a.data.role){const s=await l.a.get(`http://88.200.63.148:8211/api/reviews/professional/${e}`,t);p(s.data)}}catch(f){console.error("Error fetching profile:",f),v("Failed to fetch profile")}finally{g(!1)}})()}),[e,s]),x)return Object(d.jsx)(m,{children:"Loading..."});if(f)return Object(d.jsx)(m,{children:f});if(!c)return Object(d.jsx)(m,{children:"User not found"});const C=e=>{const t=Math.floor(e),s=e%1>=.5,a=[];for(let c=0;c<t;c++)a.push(Object(d.jsx)("img",{src:Z,alt:"star",className:"star-icon"},c));return s&&a.push(Object(d.jsx)("img",{src:Z,alt:"half-star",className:"star-icon half-star"},"half")),a},I=c.profile_picture?`http://88.200.63.148:8211${c.profile_picture}`:null,P="Professional"===c.role?`http://88.200.63.148:8211${c.portfolio[0].file_path}`:null,E=w*S,U=E-S,F=r.slice(U,E);return Object(d.jsxs)("div",{children:[Object(d.jsx)(u,{}),Object(d.jsxs)("div",{className:"user-view",children:[Object(d.jsxs)("div",{className:"header",children:[I?Object(d.jsx)("img",{src:I,alt:`${c.first_name} ${c.last_name}`}):Object(d.jsx)("img",{src:L,alt:"Default"}),Object(d.jsxs)("div",{className:"details",children:[Object(d.jsxs)("h1",{children:[c.first_name," ",c.last_name]}),"Professional"===c.role?Object(d.jsx)("h3",{children:"PROFESSIONAL"}):Object(d.jsx)("h3",{children:"CLIENT"}),Object(d.jsxs)("div",{className:"contact-info",children:[Object(d.jsxs)("div",{className:"contact-item",children:[Object(d.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGgAAABpCAYAAADWQGYEAAAAAXNSR0IArs4c6QAACAFJREFUeAHtXU1y2zYU1hF8hBzBR+gRtElNqhKrZmxSTRf2TDLj7OQLpFE28WRTebJI+jOTZp124kybyaau5UWdnaWsvM0R1PlgQSYhkAQk4hEk4RkP+AMC770P7+HDD6lWy/05CxRhgYHn3Qm/7rZ3/d5B5PXG4U7v98gPJpEfzMJO8CXyg3n8f3FtxvJ4vdNopzvCsyhj725nuwiZGl3Grtf9KvS6w8jrncoAiIOxzjErE2V7wRHqarSxVZQ/aLe3YCjmHRKPWAcEnWcWgI3hYSryNiYPA2WnOzLhJToAxfNysBrtWXter4/wFTeMpccTyNoYj2HA+AE670SnXoHzWa2BYqGsmsCIDaleQIEeVySUiUBkn3u9U+hW6dDHaHL1Qlk2MII+0LFyIDGvuRlEailbgX4oTZ9ZZbwp9L85sIkyU4Ee+sGXcKd3YLU3RX7vCZVBbK0n9HtPrAMJswC1JAJCf6PRKCbWhLxFf1PFcU1af1LU9fL7JQdO7mC7PJAcOLngcE+kB8mBowwOPUgOHG1wliAdtPtbxhneYhWTV+pSHabn9U6NAuTGOWt7z7IhGxsnYYZAYxywFMg9swpq4TMO6HeaOH1jqnFhWgg2LSzcYeeMKWEbXO6kEIAGne6wwUY0Gqqxo2gjkBaU2qiQTQd/o1AX+ZXY1FHtBrQu9V5s7qi28jpjlBLzrrW9yxGDVXpsMBzPtPoi5z2k4LAopbWly3kPPUCwuZIXOe8pBRx1L4o67JUORw7KIA15jG6AtwvKEMzVuXSITEYXet0TB1B5IW5h+1FqX0Q9Ifrs8dP5x78+zKdX0/n19bVV/5AJskFGykaLiVTpwl7od9tUgux/FzLlbQMlTZ6Pf3+Y798LyYCShjnK8IaWmWYMW68DJKoGHHnfjlfCHFV4Q8iwFYQ8uajCHcJcAiBK9iZ6z/nZ2Xz44JCudSoyxsMf9ufnZ/8mGhOlFyXCHNYlqNxXJAQwBFXduvUMHx4mAJpeXZHJmlgrolxWEMMIN9rx46eMzX3673L+07PnZIaQ1X/84y1zS5OXP2csjQ9aqfofKJOmMICJ33s5fkEG0qvxi0TdcU+Jy4RjY4AIoXfZD92/29mmqjQLIDH0wRgUIL3++bcEOKj30+XlEoiyAIKtBl7/Toty/JMFEMKKaAycv3v7h5ExCMZi797+Ka3TihDnB3Ng0wrx7RvBvUyeiyDE6xo+eMRar5gH4e/wfnFkAmWd/3O2As50Op0PHz5aek9Wg4rLbeqY7Z+L/GBkqgJZuaLxxTxgdQgxYr6iQAI4Yn+HulCnjFGKcojyGj3HgJWSwUEZFYWzQNpkzAQPlfV1GIvJwFGV1xRIe17wpkW9/qMCEBTevxel9hHr0HDQeLFunKMfyppnE58xBYas3NAPJuiDPstumrqmq/CrkyQF5s/rMDyRRvMyXv/ya6K/kenM8/JUlsfgtVmLcgwERbiiPFVRbhOQZDQadb88URtncTl5qiJvUXnYWKiowlTL4YryVPW58fHzFXBRRhoNV6XRefVzOXmal7/o+62iC8wrjyvK07z88fuqNFyHRsfLlx1zOXkqy2PyWqUAgiGyGB6A0aXRecblwPA0L3/R9ysHUB5IujQ6z6AcGJ7m5S/6fiVIgkzpLBrOjYk0j0bLyo5fi5eF4/g908eMJNhOs/OMkMbwYEwVGp1XfpkAsd2mtg5U8wwXvy8DSZVGx8uRHZcJEBuoRl7vjUwwU9dMKQwajvk0THjGZ6M31cOUvCpyhV7wvhV6AelmxTIVVjGKmKdkeUdWLTeIxrHhvEyA2HKDLQt2NoAhk6FUgLBgh2VVmWCmrpWp8Do6lSnv3t3+zY+AUE6YlqlwlQBabhrBDkbKRTsHkNrbE4zB8e2lgw7dxkUHkDJAtx+5oNz66wBSA2jX6yd/04iqHxInMzfZY7BOn6LzDGbG4w0qvqFRpxzdvIn+h4c5qgErNqDHlWYbNgrcUqVrjLT8WHsSt2aRbZ7vSF4/oQpzaRsU46DZelzkFFJaw8B1tmGRew5PD/r9LaowJ3qRrYDE5aLyHml44yBRbWLEWk6VQIKsWVuzsrxB+54svHGAqMIcFxohA8pjBjreWm04hkyQjSqscZussDcODk8pB61cKJfeUG+2/sOBSEsH+PE/ws30rq7bcRFsn4ZL4rr7mNKt0QgbkNrHlICU8yJ6gJS9h7uS8yJSkNS9hwNEzegIQwnp1ikVvbS9h4PkGJ15L0osK3DDq6bUq60qra1uediLwqqAyPJRrhXVzfh5+iQ+ViEzvuo16s2NeYrV5L4+MUgDDG5INZFaE+NnEhHYcuPQJoL1PfHr+nUGCp8+EO1byHnUoX1lv6YgpX/ysgiUHPXeiHoX85M0WUBiYc/NMqwF0qzwficNKFTkQNICiQ4cDpoDSRkgenAcSBUAx4GUC1J5nsPB4SkLd+43H5aD09AP3ks/Ts4NVlbqxknMq8yOczYFFzMOTZwWgs7GZgg2BUV8voEMbwKdRTtYf96EpQroaD0QWQKiZaHTrNu8GnSqpNekgbXYKVSHn5wGfU6+u5OmdBWvVxio2dqbOyoM1IXtoe8mlCnu+KwiEHkyI1yEfnBiEzVfyDKqdSjLA0Z2P/T77bLAYuMYLzgBKFbOAsgMVuY15llecIQQY8K7GCBgYp3gyHlKAUjvdfrbNx7GfspgtKDuF6EffJYBuAAAn5y+wAfC8Q4uRvooo0r0+H+TkolKehwimQAAAABJRU5ErkJggg==",alt:"Mail"}),Object(d.jsx)("h3",{children:c.email})]}),Object(d.jsxs)("div",{className:"contact-item",children:[Object(d.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGgAAABpCAYAAADWQGYEAAAAAXNSR0IArs4c6QAACwxJREFUeAHtXT9vGzcU10fIR8hHyEfoR/CS+k6VrgISn9wiQLSkSJY4ztLUHeLEnWoDyWCPdjPFo9ypbhbbbZa6CBQ0QJcGSIfuKn60nvDuiUfdf/KkM2CQxyMfyffj+0dSUqvV/DUcKIID6553Pfy8s3Lb7w76XvdFuNr9qe8HZ30/GIXt4FPfD8b8f1I2UnW87rC/2tlGW9BYu9m+UcSYlprGba/zWeh1Nvped6gDgIORJa9ogrYXPEJfS83sJJMfrKxcA6OUdGgkIgsIadpMAHsBCUsy3qWpo0BZ7WyXISVpAOJ1Cayllqw1r9uD+uKMcTR/hrEujcQoYPwAxjti1GvwPFpooJQqqycwciEtFlBwj2uiyiQQ5mevO8Tcaq36lJtcP1VmBkbMB3OsHUhKaq6CyFSTrYEdipvPqDbSFPpfDFxymasCPfSDT+Fqd+C0NPX97tOqGOJqP6HffeocSNgFWEhHQNibFIvizBmVN7E3dYxr4uxJUeX27VIDztxg2x5IDThzwSFJrB6kBpzE4FQPUgNOanCmIA1WetdK9/Amp5jUaZOm8fS87rBUgJo4J7P0TBdyaXESdghSxAHTATVtZkEtfMcBdmcZt2/KWlzYFgJPC1N3uDlT1mCXmO5ZIQCttzsbS8zEUlU1bhTlAmniUpc6yGUHP5eq6/u1uNRR7wWU1fWeXO6o9+TTxCgW62a63tU4BrPucYnqeJTKFjXSUyk4SkulutLVSE/1AIHniaTIdem5eysc7z3bGb8+Ohz/cjIc//XucvzP3x/G//37cfqPsvM3p6rOzpOt8f07d2thSxNJUb+tPtLh1IQAyv6Pe4rpHIg0eQC2+2zHqXnN2LR5Ht06Pl1g0ZuRfQOYw/39GQlJA4ysC+na3911FiijRxd6nZeSSbaetx5uKvUlGVzUM4ByVKK2Y22RCxuikBrYFxMQH4XN4XUHt/rjzXsPxjtPvh+/PjoaX779zUjr9eHhGG1sLUTZLzZStQd7od9ZkZWrfoYx/+PthZGhh/sHEWYeHRxM6394dxl5R+N/cGcwHh4fj/Geg0l5SJNLjoRWzdlWb2AQGEVMi0v3nkcNvfLqnu+MARyAIFB0Kd5zQHkfToHkffliRs3ZVG9x4MgVf8SkB8DAMwOT4UjoANGVxfUFOq6ABDUXAcim9wZG6yTn5PhY2Qa+yvd39xQQcCCkKqR3OlB4GYFKgHD6yF++vXDCJkXUHM4l+CSqzOscAoBDY7iYSIlkpHxGsEptTCkCV9gjOBCQPEkHz3AcTDSqeBc5K7J1rAA3VzLo9OQkwpytjc2ZOrINvLqDiXQlZR5UnaTDnyGlSWmVUo8Hrbbsj1RtsDk6l3fz3n1tsAqDv7XxOBUjAQykVm4PcXCQx9h0YykFDM3mwNQOfX2zfaOqTnk/sBmSKSYvDCqJ6kNiHt97kAoY6pvTAT1aFFgERJ9S6dITjarSda93vWUr/pHSA7tgmvjw+PWUgVINmtrJd1xlAhy+KE5/Hk77AEiQMrtS1FlphfjuG42IlVmmsz0mZkjXGODmGR9Agc367uGm2hkHfdBDuVR9Sb3DPOOJa6vuz/X9YDuuQlnl3NUldYI0zjDL+hdvfs0MEDw3Kb3om2KpQ7YzgXJ4kWXxYS5dBKxVe3Am74liELU7MDnzkfEOwOFqae4kmXY4PNC71bRIoEYhWfRMqS01t+YFr1pVn/8gDqGJI5Ubn1LF8LqwGWkA4XV1TgCnbcrb2vUO/eAMNug9n0jZeelF4TlpMDrPkYgbO6SWA49FQe45pBHAmwDCGONol1w+alUdA0l7AoninhUxCkwEIHB14bWhPKtzIG0O39MDg6HCEFPhaOLDuz9nAMvjNeYBUMVCeQhkaSuZhbMb0JFSROXUBxiYxTnY/CYa30hwiD5PIVW0UPIsDE4za76VtWHWdnziyJMBli5unEeXtl8JENGFIwK7hGeknC7GxMcJ9cjfV5m3DhCfLHdxT0+GEaYQQylm4e3m5bn94YzneUg2p83fIT+vj7LeOwUQVi432HB7aZVz1Yg83G+8Jwk0MUh6jpL59AwgSZqojFIT/TLfVe4kyNWsYzBOTTlQxCRdKld+HLOS0oRjIlUc+o2jW2a5chKqdrO5JGDi9w3H1Ad7s0FjHEhJYxW413vPflCXStA3wOCuP8Yn7RbKygTCQHtUeaAqNyShfgwDjHh3cIPBYNzYgY2SYIGRSYHifXIVCBr8GX1k8R45/ax5Faj2ve6rrASytOOrFZOfFwTyYwkZj8RdAEl7IsrjMKjgtGPMwockbUIvOGmFXlDpZUXcq+Yrf95mJK+vW8lxOwFpznKkzZF2cp6UJ2F2xjrblR83SGYALJMdAqMJUB1ANHHpBIDJ9C5JKgNl6hMpFkESGkXXUccNNg7sJDNMq52rODD9+bfxNourKjA2DcOkWiOATIsiDf0sdYFNC8eqWRrnacOZDkaA8ZAsHU3JdNSnsxtZX9aV703PXFIJHKTyoqSJRtHv1m72rn4EpOoNU4Ah9bxJinTOgDzplPfrLn+/0AIex0S5aABOnuONuH6Slk8vjeAGY9WHdhgk39ahFUtRvG4S0hngUoctGnmwl3blS9caY0p7lUs37qxlyoOj66Xr7eovLkKK5G4BYpA4VYeJyg1VxDwAB+0IZKTSHZ/HJCl9oGFTejDeyMVFW1d/pc0AY7C/ZmIodzAQrEpw6MqwiYZ8pwt600qgpJn3+bbXi/6mUdV2iCag855MIOnqk/QkOeuhfilFX9Se0mN7J6hqcUbsD6m5qgNWYhBUGi6LEHMoxarWqTudMUebtOBArenAgWrT9UvjrSRtaz5+YkvNYcLSASCQoL74GQ3q6ox5WnsBZ0SqRvQJOraCUg68in9Icigd9HrXbKk5E0hgHOIeAgoMJAAp3XqY7H42pAa0qB1P3QFHfDaIAEJq4xIjXzlxkgRGYsVDJQEoHkMliXfQBsDwdhwcqFgXJEfxQqfeCCSbao6Agv43OQKcscgDNEgGtUcegEAV4lMM8haRbA+HwLrNYZcrZ7w3AodSG0ErMZencvNTMjbvM1Qa3Y3j/drMq/MfAiIuXceP/zFEbecRzYOZeQGh9rhvh60jl6SGeAzex+ESKXfxy5QgUdhZJkanTdEWYLsIzASgZF+mBKRckyJaYUhhzOlLKsB03ATlYEFCUIbtHtgy3D9wGJSp7UwsPSRKLkoRB2rB8smlhwBywaNbMBCm0iLnlVp6CCRXPDo5oUV6jhwrEOOTpjZOWxeJ+UnmAh4nxUNbz8ZZUZKJLUKdyJmPlvsJC6v+FN4iMD/BHNI7BnF4QQxtbqQmmGysAXaxLXiZW7VJsL6y8HF9F5lbxJjw1QeSv4U899vVf2S/CIY4RiP+Ky+LQKlxvXN9p3YxP0ljAhIHe80uQyaQRoXbnTig0FEDUiqQqgOHQGtASgxQ9eA0INUAnAakuSDZkxwCh1Kl7hz8zQdb7nXoByfaLycnhtlKmzhJSVW5cU5ecLHjsIzbQphzaTsEeUGR7ZfQwzvDnCUfnH9ehqMKzNF5IEwDxMqC0bRlsMvqF3OqpdTEgTW5KbQIPzkN9zn62Z24SdexvMZAjTJf7qgxUOdlqaCi6F6psoQ3PusIxLwxQ12EfvDSJdd8MpbthVZl84DRvQ/93ootsFQc4wUvAYqTuwA6htksU5LlBY+gYsqQLgUIPLF28KiRlAKQXmv3blxJmPopg+2J634e+sF7HYATAPCV0+f4gnB8BheRPmjUyT3+H22NzXBlFUz1AAAAAElFTkSuQmCC",alt:"World"}),Object(d.jsx)("h3",{children:c.location||"N/A"})]})]}),Object(d.jsxs)("div",{className:"social-media-buttons",children:[Object(d.jsx)("button",{onClick:()=>window.location.href="https://www.linkedin.com",className:"icon-button",children:Object(d.jsx)("img",{src:M,alt:"LinkedIn"})}),Object(d.jsx)("button",{onClick:()=>window.location.href="https://www.facebook.com",className:"icon-button",children:Object(d.jsx)("img",{src:W,alt:"Facebook"})}),Object(d.jsx)("button",{onClick:()=>window.location.href="https://www.instagram.com",className:"icon-button",children:Object(d.jsx)("img",{src:V,alt:"Instagram"})})]})]})]}),Object(d.jsxs)("div",{className:"action-buttons",children:[Object(d.jsx)("button",{onClick:()=>window.location.href="/report",className:"icon-button",children:Object(d.jsx)("img",{src:J,alt:"Report"})}),Object(d.jsx)("button",{onClick:()=>window.location.href="/message",className:"icon-button",children:Object(d.jsx)("img",{src:G,alt:"Send Message"})}),"Professional"===c.role&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("button",{onClick:()=>{t?N(!0):alert("You must be logged in to add a review.")},className:"icon-button",children:Object(d.jsx)("img",{src:X,alt:"Add Review"})}),Object(d.jsxs)("p",{className:"review-count",children:["Reviews: ",b.length]})]}),Object(d.jsxs)(i.b,{to:"/services",className:"get-started-button",children:[Object(d.jsx)("img",{src:K,alt:"House",className:"house-icon"}),"Get Started ",Object(d.jsx)("span",{children:"\u2192"})]})]}),"Professional"===c.role&&Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"bio",children:[Object(d.jsx)("h2",{children:"Education:"}),Object(d.jsx)("p",{children:c.portfolio[0].education_history})]}),Object(d.jsx)("h2",{children:"Portfolio"}),Object(d.jsx)("div",{className:"portfolio",children:Object(d.jsx)("a",{href:P,target:"_blank",rel:"noopener noreferrer",children:"Download Portfolio"})})]}),Object(d.jsxs)("div",{className:"posts",children:[Object(d.jsxs)("h2",{children:["Posts by ",c.first_name]}),Object(d.jsx)("div",{className:"post-grid",children:F.length>0?F.map((e=>Object(d.jsxs)("div",{className:"post",onClick:()=>k(`/posts/${e.post_id}`),children:[e.image_url&&Object(d.jsx)("img",{src:`http://88.200.63.148:8211${e.image_url}`,alt:e.title}),Object(d.jsx)("h3",{children:e.title})]},e.post_id))):Object(d.jsx)("div",{children:"No posts found"})}),Object(d.jsx)("div",{className:"pagination",children:Array.from({length:Math.ceil(r.length/S)},((e,t)=>Object(d.jsx)("button",{onClick:()=>A(t+1),children:t+1},t)))})]}),"Professional"===c.role&&Object(d.jsxs)("div",{className:"reviews",children:[Object(d.jsx)("h2",{children:"Reviews"}),Object(d.jsx)("div",{className:"review-grid",children:b.length>0?b.map((e=>{const t=(e=>((e.quality_of_work+e.timeliness+e.reliability+e.satisfaction)/4).toFixed(1))(e);return Object(d.jsxs)("div",{className:"review-card",children:[Object(d.jsx)("h3",{children:e.author_name}),Object(d.jsxs)("div",{className:"star-rating",children:[C(t),Object(d.jsxs)("span",{className:"rating-value",children:["(",t,")"]})]}),Object(d.jsxs)("div",{className:"bar-chart",children:[Object(d.jsxs)("div",{className:"bar",children:[Object(d.jsx)("span",{children:"Quality of Work"}),Object(d.jsx)("div",{className:"bar-fill",style:{width:e.quality_of_work/5*100+"%"}})]}),Object(d.jsxs)("div",{className:"bar",children:[Object(d.jsx)("span",{children:"Timeliness"}),Object(d.jsx)("div",{className:"bar-fill",style:{width:e.timeliness/5*100+"%"}})]}),Object(d.jsxs)("div",{className:"bar",children:[Object(d.jsx)("span",{children:"Reliability"}),Object(d.jsx)("div",{className:"bar-fill",style:{width:e.reliability/5*100+"%"}})]}),Object(d.jsxs)("div",{className:"bar",children:[Object(d.jsx)("span",{children:"Satisfaction"}),Object(d.jsx)("div",{className:"bar-fill",style:{width:e.satisfaction/5*100+"%"}})]})]})]},e.review_id)})):Object(d.jsx)("div",{children:"No reviews found"})}),Object(d.jsxs)("div",{className:"pagination",children:[Object(d.jsx)("button",{children:"<"}),Object(d.jsx)("button",{children:">"})]})]}),Object(d.jsx)("img",{src:_,alt:"Brands",className:"brands-image"})]}),Object(d.jsx)(O,{}),y&&Object(d.jsx)("div",{className:"modal",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsx)("span",{className:"close",onClick:()=>N(!1),children:"\xd7"}),Object(d.jsx)(Q,{professionalId:e,onReviewAdded:()=>{N(!1),l.a.get(`http://88.200.63.148:8211/api/reviews/professional/${e}`,{headers:{Authorization:`Bearer ${s}`},withCredentials:!0}).then((e=>{p(e.data)}))}})]})})]})};s(47);var ee=()=>{const{serviceId:e}=Object(o.q)(),t=Object(o.m)(),s=Object(o.o)(),{professionalId:c}=t.state||{},[n,r]=Object(a.useState)(!1),[i,l]=Object(a.useState)(null),[j,h]=Object(a.useState)(!0),[b,p]=Object(a.useState)(null),m=(e=>({1:{title:"General living space advices",description:"Up to 5 hours meetings",price:29},2:{title:"Complete room redesign ",description:"Interior and exterior works",price:39},3:{title:"Unique Furniture for living",description:"Complete apartment remodelling",price:59}}[e]))(e);Object(a.useEffect)((()=>{if(!e||!c||!m)return console.error("Missing service or professional data."),p(Object(d.jsxs)("div",{className:"ms-alert ms-action2 ms-small",children:[Object(d.jsx)("span",{className:"ms-close"}),Object(d.jsx)("p",{children:"Missing service or professional data. Please go back and select a service."})]})),void h(!1);new Promise(((e,t)=>{if(document.querySelector('script[src^="https://www.paypal.com/sdk/js?client-id=AeOXxe44mQC4gNOXKspUb5MbGxAE_1nbHwwahivZNYoLBnUhFjEAvTqwbFM--ltkn2L_HVA6-XcL7dKf"]'))return void e();const s=document.createElement("script");s.src="https://www.paypal.com/sdk/js?client-id=AeOXxe44mQC4gNOXKspUb5MbGxAE_1nbHwwahivZNYoLBnUhFjEAvTqwbFM--ltkn2L_HVA6-XcL7dKf&components=buttons,hosted-fields&currency=EUR&intent=capture",s.async=!0,s.onload=()=>{console.log("PayPal SDK loaded successfully."),r(!0),e()},s.onerror=()=>{console.error("Failed to load PayPal SDK"),t()},document.head.appendChild(s)})).then((async()=>{if(n){const e=document.getElementById("paypal-button-container");e&&0===e.childNodes.length&&window.paypal.Buttons({style:{color:"black",shape:"rect",layout:"vertical",label:"paypal"},createOrder:async()=>{try{const e=localStorage.getItem("logged_in_user_id"),t=await fetch("http://88.200.63.148:8211/api/orders/create_order",{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify({intent:"capture",amount:m.price,currency:"EUR",user_id_from:e,user_id_to:c})}),s=await t.json();return l(s.id),s.id}catch(e){console.error("Failed to create order",e),p(Object(d.jsxs)("div",{className:"ms-alert ms-action2 ms-small",children:[Object(d.jsx)("span",{className:"ms-close"}),Object(d.jsx)("p",{children:"Failed to create order. Please try again."})]}))}},onApprove:async e=>{try{const t=await fetch("http://88.200.63.148:8211/api/orders/complete_order",{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify({order_id:e.orderID,intent:"capture"})}),s=await t.json();x(s)}catch(t){console.error("Failed to capture order",t),p(Object(d.jsxs)("div",{className:"ms-alert ms-action2 ms-small",children:[Object(d.jsx)("span",{className:"ms-close"}),Object(d.jsx)("p",{children:"Failed to capture order. Please try again."})]}))}},onCancel:()=>{p(Object(d.jsxs)("div",{className:"ms-alert ms-action2 ms-small",children:[Object(d.jsx)("span",{className:"ms-close"}),Object(d.jsx)("p",{children:"Order cancelled!"})]}))},onError:e=>{console.error("Error with payment:",e),p(Object(d.jsxs)("div",{className:"ms-alert ms-action2 ms-small",children:[Object(d.jsx)("span",{className:"ms-close"}),Object(d.jsx)("p",{children:"An Error Occurred! (View console for more info)"})]}))}}).render("#paypal-button-container"),h(!1)}})).catch(console.error)}),[n,e,c,m]);const x=e=>{p(Object(d.jsxs)("div",{className:"ms-alert ms-action",children:["Thank you ",e.payer.name.given_name," ",e.payer.name.surname," for your payment of"," ",e.purchase_units[0].payments.captures[0].amount.value," ",e.purchase_units[0].payments.captures[0].amount.currency_code,"!"]}))};return j?Object(d.jsx)("div",{id:"loading",className:"spinner-container ms-div-center",children:Object(d.jsx)("div",{className:"spinner"})}):Object(d.jsxs)("div",{children:[Object(d.jsx)(u,{}),Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("h1",{children:"Pay for Service"}),Object(d.jsxs)("p",{children:["Service: ",null===m||void 0===m?void 0:m.title]}),Object(d.jsxs)("p",{children:["Description: ",null===m||void 0===m?void 0:m.description]}),Object(d.jsxs)("p",{children:["Price: \u20ac",null===m||void 0===m?void 0:m.price," EUR"]}),Object(d.jsx)("div",{id:"alerts",children:b}),Object(d.jsx)("div",{id:"paypal-button-container"}),!m&&Object(d.jsx)("button",{className:"ms-fullwidth mt-2 ms-medium",onClick:()=>s("/services"),children:"Go Back to Services"})]}),Object(d.jsx)(O,{})]})};var te=()=>Object(d.jsx)(h,{children:Object(d.jsx)(i.a,{children:Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{path:"/",element:Object(d.jsx)(x,{})}),Object(d.jsx)(o.a,{path:"/login",element:Object(d.jsx)(S,{})}),Object(d.jsx)(o.a,{path:"/register",element:Object(d.jsx)(k,{})}),Object(d.jsx)(o.a,{path:"/profile/professional",element:Object(d.jsx)(T,{})}),Object(d.jsx)(o.a,{path:"/profile/client",element:Object(d.jsx)(z,{})}),Object(d.jsx)(o.a,{path:"/profile/:userId",element:Object(d.jsx)($,{})}),Object(d.jsx)(o.a,{path:"/posts",element:Object(d.jsx)(P,{})}),Object(d.jsx)(o.a,{path:"/posts/:postId",element:Object(d.jsx)(A,{})}),Object(d.jsx)(o.a,{path:"/posts/create-post",element:Object(d.jsx)(U,{})}),Object(d.jsx)(o.a,{path:"/services",element:Object(d.jsx)(D,{})}),Object(d.jsx)(o.a,{path:"/professionals",element:Object(d.jsx)(q,{})}),Object(d.jsx)(o.a,{path:"/paypal-payment/:serviceId",element:Object(d.jsx)(ee,{})})]})})});r.a.createRoot(document.getElementById("root")).render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(te,{})}))}],[[48,1,2]]]);
//# sourceMappingURL=main.f1f80649.chunk.js.map